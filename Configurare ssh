DocumentaÈ›ie: Instalare È™i Configurare SSH pe Linux

 Scop: Permite autentificarea SSH fÄƒrÄƒ parolÄƒ Ã®ntre utilizatori pe acelaÈ™i sistem (sau Ã®ntre calculatoare) folosind chei SSH.

1. Instalarea OpenSSH Server
Pentru a putea utiliza SSH pe sistemul tÄƒu, trebuie sÄƒ instalezi serverul OpenSSH (pentru conexiuni SSH).

Pas 1: InstaleazÄƒ serverul SSH
sudo apt update
sudo apt install openssh-server

 VerificÄƒ instalarea:
ssh -V
Ar trebui sÄƒ vezi versiunea OpenSSH.

2. Generarea Cheii SSH pentru Autentificare
Pentru a te conecta fÄƒrÄƒ parolÄƒ, trebuie sÄƒ creezi o cheie SSH (dacÄƒ nu ai deja una).

Pas 2: GenereazÄƒ cheia SSH
ssh-keygen
ApasÄƒ Enter pentru a accepta locaÈ›ia implicitÄƒ a fiÈ™ierului (~/.ssh/id_ed25519).

LasÄƒ cÃ¢mpul pentru passphrase gol (sau seteazÄƒ o parolÄƒ dacÄƒ vrei sÄƒ o protejezi).

DupÄƒ completare, cheia va fi generatÄƒ È™i va fi salvatÄƒ Ã®n fiÈ™ierele:

Cheia privatÄƒ: ~/.ssh/id_ed25519

Cheia publicÄƒ: ~/.ssh/id_ed25519.pub

3. Copierea Cheii Publice pe Sistemul Remote (sau alt utilizator)
Pentru a permite autentificarea fÄƒrÄƒ parolÄƒ, trebuie sÄƒ adÄƒugi cheia publicÄƒ pe serverul remote (sau pe alt utilizator local).

Pas 3: CopiazÄƒ cheia publicÄƒ pe utilizatorul remote
ssh-copy-id utilizator@localhost
ğŸ”¹ ÃnlocuieÈ™te utilizator cu numele utilizatorului remote (ex: darianapopescu).
ğŸ”¹ ÃÈ›i va cere parola utilizatorului remote doar o singurÄƒ datÄƒ.

4. Verificarea Conexiunii FÄƒrÄƒ ParolÄƒ
Pas 4: TesteazÄƒ conexiunea fÄƒrÄƒ parolÄƒ
ssh utilizator@localhost
ğŸ”¹ DacÄƒ nu Ã®È›i cere parolÄƒ È™i te conectezi direct, atunci totul este configurat corect.

5. Permisiuni Corecte pentru FiÈ™ierele SSH
AsigurÄƒ-te cÄƒ fiÈ™ierele SSH au permisiunile corecte pentru securitate:

Pas 5: SeteazÄƒ permisiuni corecte
sudo chmod 700 ~/.ssh
sudo chmod 600 ~/.ssh/id_ed25519
sudo chmod 600 ~/.ssh/authorized_keys

6. Configurarea SSH pentru a Permite Autentificare cu Chei
Ãn unele cazuri, este necesar sÄƒ verifici configuraÈ›ia serverului SSH pentru a permite autentificarea cu chei È™i a dezactiva parola.

Pas 6: ModificÄƒ fiÈ™ierul de configurare al SSH
sudo nano /etc/ssh/sshd_config
AsigurÄƒ-te cÄƒ aceste linii sunt setate corect:

PasswordAuthentication no
PubkeyAuthentication yes

Pas 7: Repornirea serviciului SSH
sudo systemctl restart ssh

7. Verificarea È™i Depanarea
DacÄƒ Ã®ntÃ¢mpini probleme, iatÄƒ cÃ¢teva comenzi utile:

Pas 8: VerificÄƒ statusul SSH
sudo systemctl status ssh

Pas 9: VerificÄƒ fiÈ™ierul authorized_keys
VerificÄƒ cÄƒ cheia ta publicÄƒ este corectÄƒ Ã®n fiÈ™ierul ~/.ssh/authorized_keys al utilizatorului remote:
cat ~/.ssh/authorized_keys
